{
  "$schema": "http://json-schema.org/draft-04/schema#",

  "definitions": {

    "functions": {
      "required": ["functions"],
      "properties": {
        "functions": { "type": "array" }
      }
    },

    "text": {
      "required": ["text"],
      "properties": {
        "text": { "type": "array" }
      }
    },

    "input": {
      "required": ["input"],
      "properties": {
        "input": {
          "type": "object",
          "required": ["key", "type", "options"],
          "properties": {
            "key": { "type": "string" },
            "type": { "enum": ["slider", "choices"]},
            "options": { "type": "object" }
          }
        }
      }
    },

    "answer": {
      "required": ["answer"],
      "properties": {
        "answer": {}
      }
    },

    "card": {
      "type": "array",
      "items": {
        "type": "object",
        "oneOf": [
          { "$ref": "#/definitions/functions" },
          { "$ref": "#/definitions/text" },
          { "$ref": "#/definitions/input" },
          { "$ref": "#/definitions/answer" }
        ]
      }
    }
  },

  "type":"array",
  "items": {
    "type": "object",
    "required": ["title", "content"],
    "properties": {
      "title":{"type":"string"},
      "content":{
        "$ref": "#/definitions/card"
      }
    }
  }
}
